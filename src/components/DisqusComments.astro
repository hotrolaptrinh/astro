---
const { identifier } = Astro.props;
const shortname = import.meta.env.PUBLIC_DISQUS_SHORTNAME || "example";
const embedSrc = `https://${shortname}.disqus.com/embed.js`;
---
<section id="comments" class="py-12">
  <div class="container mx-auto px-4 max-w-3xl">
    <h2 class="text-2xl font-bold mb-6">Bình luận</h2>
    <div id="disqus_thread"></div>
  </div>
</section>
<script is:inline>
  var disqus_config = function () {
    this.page.url = window.location.href;
    this.page.identifier = ${JSON.stringify(identifier)};
  };
  (function() {
    var d = document, s = d.createElement('script');
    s.src = ${JSON.stringify(embedSrc)};
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Vui lòng bật JavaScript để xem bình luận từ Disqus.</noscript>
